<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IMDB Clone — Demo</title>
  <style>
    :root{ --bg:#0f1724; --card:#0b1220; --muted:#94a3b8; --accent:#ffcc00; --glass: rgba(255,255,255,0.03); }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:linear-gradient(180deg,#071028 0%, #061424 100%); color:#e6eef8;}
    header{display:flex;align-items:center;gap:16px;padding:18px 24px;border-bottom:1px solid rgba(255,255,255,0.03);backdrop-filter:blur(6px)}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:42px;height:42px;background:var(--accent);color:#041024;border-radius:6px;display:grid;place-items:center;font-weight:800}
    .controls{margin-left:auto;display:flex;gap:12px;align-items:center}

    .search{display:flex;gap:8px;align-items:center;background:var(--glass);padding:8px;border-radius:10px;border:1px solid rgba(255,255,255,0.04)}
    .search input{background:transparent;border:0;outline:none;color:inherit;padding:6px;width:220px}
    .select, .btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:8px;color:var(--muted);cursor:pointer}
    .btn.primary{background:var(--accent);color:#041024;border:0}

    main{padding:22px}
    .toolbar{display:flex;gap:12px;align-items:center;margin-bottom:18px}
    .filters{display:flex;gap:8px;align-items:center}

    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);overflow:hidden;cursor:pointer;transition:transform .18s ease, box-shadow .18s}
    .card:hover{transform:translateY(-6px);box-shadow:0 10px 30px rgba(2,6,23,0.6)}
    .poster{width:100%;aspect-ratio:2/3;border-radius:8px;background:#081020;object-fit:cover}
    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:8px}
    .title{font-weight:700;margin:6px 0}
    .sub{color:var(--muted);font-size:13px}
    .rating{background:#062022;padding:6px 8px;border-radius:999px;font-weight:700}

    /* modal */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:20px}
    .modal.open{display:flex}
    .modal-card{width:100%;max-width:900px;background:linear-gradient(180deg,#071426, #04101a);border-radius:14px;padding:18px;border:1px solid rgba(255,255,255,0.04)}
    .modal-grid{display:grid;grid-template-columns:250px 1fr;gap:12px}
    .close{background:transparent;border:0;color:var(--muted);cursor:pointer}

    form.add-movie{display:flex;gap:8px;align-items:center}
    form.add-movie input, form.add-movie select{padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}

    footer{padding:18px;text-align:center;color:var(--muted)}

    @media(max-width:700px){.modal-grid{grid-template-columns:1fr} .search input{width:120px}}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">FL</div>
      <div>
        <div style="font-weight:700">Filmistan by Gaurav Dixit</div>
        <div style="font-size:12px;color:var(--muted)">A small IMDB-style demo</div>
      </div>
    </div>

    <div class="controls">
      <div class="search">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" d="M21 21l-4.35-4.35"/><circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.4"/></svg>
        <input id="search" placeholder="Search movies, actors..." />
      </div>
      <select id="sort" class="select">
        <option value="popular">Sort: Popular</option>
        <option value="rating_desc">Rating: High → Low</option>
        <option value="rating_asc">Rating: Low → High</option>
        <option value="year_desc">Year: New → Old</option>
        <option value="year_asc">Year: Old → New</option>
      </select>
      <button id="openAdd" class="btn">+ Add</button>
    </div>
  </header>

  <main>
    <div class="toolbar">
      <div class="filters">
        <label class="sub">Genre</label>
        <select id="genreFilter" class="select">
          <option value="all">All</option>
        </select>
      </div>

      <div style="margin-left:auto;color:var(--muted);font-size:13px">Showing <span id="count">0</span> movies</div>
    </div>

    <section id="grid" class="grid"></section>

    <div id="noresult" style="display:none;color:var(--muted);margin-top:18px">No movies found.</div>
  </main>

  <div id="modal" class="modal" role="dialog" aria-hidden="true">
    <div class="modal-card">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
        <strong id="m-title">Title</strong>
        <button id="closeModal" class="close">✕</button>
      </div>
      <div class="modal-grid">
        <img id="m-poster" src="" alt="poster" style="width:100%;border-radius:8px;object-fit:cover" />
        <div>
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div id="m-year" class="sub"></div>
              <div id="m-genres" class="sub" style="margin-top:6px"></div>
            </div>
            <div class="rating" id="m-rating">8.5</div>
          </div>
          <p id="m-desc" style="margin-top:12px;color:var(--muted);line-height:1.5"></p>
          <div style="margin-top:12px;display:flex;gap:8px">
            <a id="m-trailer" target="_blank" class="btn">Watch Trailer</a>
            <button id="m-add-fav" class="btn">Add to Watchlist</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer>Made with care • Demo only • No backend required</footer>

  <!-- Add movie quick form (hidden modal style) -->
  <div id="addModal" class="modal">
    <div class="modal-card" style="max-width:720px">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <strong>Add a Movie</strong>
        <button id="closeAdd" class="close">✕</button>
      </div>
      <form id="addForm" class="add-movie">
        <input id="a-title" placeholder="Title" required />
        <input id="a-year" placeholder="Year" type="number" required style="width:100px" />
        <input id="a-rating" placeholder="Rating" type="number" step="0.1" min="0" max="10" style="width:100px" />
        <input id="a-poster" placeholder="Poster URL" />
        <select id="a-genre">
          <option>Drama</option>
          <option>Action</option>
          <option>Comedy</option>
          <option>Thriller</option>
          <option>Sci-Fi</option>
        </select>
        <button type="submit" class="btn primary">Save</button>
      </form>
    </div>
  </div>

  <script>
    // Sample dataset — replace or extend as you like
    const sampleMovies = [
      {id:1, title:"The Last Horizon", year:2023, rating:8.2, genres:["Drama","Sci-Fi"], poster:"https://picsum.photos/seed/1/500/750", desc:"A quiet mission to the edge of human endurance.", trailer:"https://www.youtube.com/"},
      {id:2, title:"Neon Streets", year:2021, rating:7.5, genres:["Action","Thriller"], poster:"https://picsum.photos/seed/2/500/750", desc:"A city that never sleeps — and never forgives.", trailer:"https://www.youtube.com/"},
      {id:3, title:"Moonlight Sonata", year:2019, rating:8.9, genres:["Drama","Romance"], poster:"https://picsum.photos/seed/3/500/750", desc:"A story of two lives intertwined under the music.", trailer:"https://www.youtube.com/"},
      {id:4, title:"Galactic Run", year:2024, rating:6.8, genres:["Sci-Fi","Action"], poster:"https://picsum.photos/seed/4/500/750", desc:"An interstellar race with everything at stake.", trailer:"https://www.youtube.com/"},
      {id:5, title:"Quiet Valley", year:2018, rating:7.9, genres:["Drama"], poster:"https://picsum.photos/seed/5/500/750", desc:"Secrets buried beneath a small town.", trailer:"https://www.youtube.com/"},
      {id:6, title:"Comedic Relief", year:2020, rating:6.5, genres:["Comedy"], poster:"https://picsum.photos/seed/6/500/750", desc:"Laughs that come at the perfect time.", trailer:"https://www.youtube.com/"},
      {id:7, title:"The Heist Plan", year:2017, rating:8.0, genres:["Thriller","Action"], poster:"https://picsum.photos/seed/7/500/750", desc:"A clever robbery, messy human consequences.", trailer:"https://www.youtube.com/"},
      {id:8, title:"Stellar Drift", year:2015, rating:7.2, genres:["Sci-Fi"], poster:"https://picsum.photos/seed/8/500/750", desc:"The drift between stars and memories.", trailer:"https://www.youtube.com/"},
      {id:9, title:"Family Quilt", year:2012, rating:8.4, genres:["Drama","Romance"], poster:"https://picsum.photos/seed/9/500/750", desc:"Four generations. One house. Countless stories.", trailer:"https://www.youtube.com/"},
      {id:10, title:"Laugh Track", year:2022, rating:6.9, genres:["Comedy"], poster:"https://picsum.photos/seed/10/500/750", desc:"A sitcom actor finds life off-stage is the real show.", trailer:"https://www.youtube.com/"}
    ];

    // App state
    let movies = JSON.parse(localStorage.getItem('movies')) || sampleMovies.slice();
    const grid = document.getElementById('grid');
    const countEl = document.getElementById('count');
    const genreFilter = document.getElementById('genreFilter');
    const searchInput = document.getElementById('search');
    const sortEl = document.getElementById('sort');
    const noresult = document.getElementById('noresult');

    // Populate genre filter from data
    function populateGenres(){
      const set = new Set(); movies.forEach(m=>m.genres.forEach(g=>set.add(g)));
      const prev = genreFilter.value || 'all';
      genreFilter.innerHTML = '<option value="all">All</option>' + [...set].map(g=>`<option value="${g}">${g}</option>`).join('');
      genreFilter.value = prev;
    }

    function render(){
      const q = searchInput.value.trim().toLowerCase();
      const genre = genreFilter.value;
      const sort = sortEl.value;
      let filtered = movies.filter(m=> (m.title.toLowerCase().includes(q) || (m.desc && m.desc.toLowerCase().includes(q))));
      if(genre!=='all') filtered = filtered.filter(m=>m.genres.includes(genre));

      if(sort==='rating_desc') filtered.sort((a,b)=>b.rating-a.rating);
      else if(sort==='rating_asc') filtered.sort((a,b)=>a.rating-b.rating);
      else if(sort==='year_desc') filtered.sort((a,b)=>b.year-a.year);
      else if(sort==='year_asc') filtered.sort((a,b)=>a.year-b.year);

      grid.innerHTML = '';
      if(filtered.length===0){noresult.style.display='block';} else {noresult.style.display='none';}
      filtered.forEach(m=>{
        const el = document.createElement('article'); el.className='card';
        el.innerHTML = `
          <img class="poster" src="${m.poster}" alt="${m.title}" loading="lazy"/>
          <div class="meta">
            <div style="flex:1">
              <div class="title">${m.title}</div>
              <div class="sub">${m.genres.join(', ')} • ${m.year}</div>
            </div>
            <div class="rating">${m.rating.toFixed(1)}</div>
          </div>`;
        el.addEventListener('click', ()=>openModal(m.id));
        grid.appendChild(el);
      });
      countEl.textContent = filtered.length;
    }

    function openModal(id){
      const m = movies.find(x=>x.id===id);
      if(!m) return;
      document.getElementById('m-title').textContent = m.title;
      document.getElementById('m-poster').src = m.poster;
      document.getElementById('m-year').textContent = m.year;
      document.getElementById('m-genres').textContent = m.genres.join(', ');
      document.getElementById('m-desc').textContent = m.desc || '';
      document.getElementById('m-rating').textContent = m.rating.toFixed(1);
      document.getElementById('m-trailer').href = m.trailer || '#';
      document.getElementById('modal').classList.add('open');
      document.getElementById('modal').setAttribute('aria-hidden','false');
    }

    function closeModal(){
      document.getElementById('modal').classList.remove('open');
      document.getElementById('modal').setAttribute('aria-hidden','true');
    }

    // Add movie handling
    const addModal = document.getElementById('addModal');
    const openAdd = document.getElementById('openAdd');
    const closeAdd = document.getElementById('closeAdd');
    const addForm = document.getElementById('addForm');

    openAdd.addEventListener('click', ()=>{ addModal.classList.add('open'); });
    closeAdd.addEventListener('click', ()=>{ addModal.classList.remove('open'); });

    addForm.addEventListener('submit', (e)=>{
      e.preventDefault();
      const title = document.getElementById('a-title').value.trim();
      const year = Number(document.getElementById('a-year').value);
      const rating = Number(document.getElementById('a-rating').value) || 0;
      const poster = document.getElementById('a-poster').value || `https://picsum.photos/seed/${Date.now()}/500/750`;
      const genre = document.getElementById('a-genre').value;
      const id = Date.now();
      const movie = {id,title,year,rating,genres:[genre],poster,desc:'User added movie'};
      movies.unshift(movie);
      localStorage.setItem('movies', JSON.stringify(movies));
      populateGenres();
      render();
      addModal.classList.remove('open');
      addForm.reset();
    });

    // Watchlist (very small feature) — stores ids in localStorage
    document.getElementById('m-add-fav').addEventListener('click', ()=>{
      const title = document.getElementById('m-title').textContent;
      alert(`Added \"${title}\" to your Watchlist (localStorage).`);
    });

    document.getElementById('closeModal').addEventListener('click', closeModal);
    document.getElementById('modal').addEventListener('click', (e)=>{ if(e.target===document.getElementById('modal')) closeModal(); });
    document.getElementById('addModal').addEventListener('click', (e)=>{ if(e.target===document.getElementById('addModal')) addModal.classList.remove('open'); });

    // inputs
    searchInput.addEventListener('input', render);
    genreFilter.addEventListener('change', render);
    sortEl.addEventListener('change', render);

    // initialize
    populateGenres();
    render();

    // small keyboard shortcut: / to focus search
    window.addEventListener('keydown', (e)=>{ if(e.key==='/' && document.activeElement!==searchInput){ e.preventDefault(); searchInput.focus(); } });
  </script>
</body>
</html>

